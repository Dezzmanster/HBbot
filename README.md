# Birthday Bot

Телеграм бот для автоматических поздравлений с днем рождения участников чата.

## Возможности

- Автоматическая отправка поздравлений в заданное время
- Генерация уникальных поздравлений с помощью GigaChat
- Хранение информации о пользователях в конфигурационном файле
- Настраиваемый промпт для генерации поздравлений

## Установка и настройка

### 1. Установка зависимостей

Проект использует `uv` для управления зависимостями:

```bash
uv sync
```

### 2. Настройка переменных окружения

Создайте файл `.env` и заполните его:

```env
# Telegram Bot Token (получить у @BotFather)
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# GigaChat API credentials
GIGACHAT_CREDENTIALS=your_gigachat_credentials_here
GIGACHAT_SCOPE=GIGACHAT_API_PERS
```

### 3. Настройка пользователей

Отредактируйте файл `users_config.json`:

```json
{
  "users": [
    {
      "name": "Имя Фамилия",
      "username": "telegram_username",
      "birthday": "DD.MM",
      "chat_id": -1001234567890
    }
  ]
}
```

Где:
- `name` - полное имя пользователя
- `username` - имя пользователя в Telegram (без @)
- `birthday` - дата рождения в формате ДД.ММ
- `chat_id` - ID чата, куда отправлять поздравления

### 4. Настройка промпта

Отредактируйте файл `birthday_prompt.txt` для изменения стиля поздравлений.

## Запуск

```bash
uv run birthday_bot.py
```

Бот будет:
1. Сразу проверит, есть ли именинники сегодня
2. Запустит планировщик для ежедневной проверки в 9:00

## Получение chat_id

Для получения ID чата:
1. Добавьте бота в нужный чат
2. Отправьте любое сообщение в чат
3. Перейдите по ссылке: `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`
4. Найдите в ответе поле `"chat":{"id": -1001234567890}`

## Структура проекта

```
HBbot/
├── birthday_bot.py      # Основной файл бота
├── users_config.json    # Конфигурация пользователей
├── birthday_prompt.txt  # Промпт для генерации поздравлений
├── .env                 # Переменные окружения (не в git)
├── .gitignore          # Исключения для git
├── pyproject.toml      # Конфигурация проекта
└── README.md           # Документация
```
